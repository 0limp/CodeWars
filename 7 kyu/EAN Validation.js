// ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑˆÑ‚Ñ€Ð¸Ñ…ÐºÐ¾Ð´Ð° EAN

// ÐœÐ½Ð¾Ð³Ð¸Ðµ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹ Ð¸Ð¼ÐµÑŽÑ‚ Ð¼ÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ð°Ñ€Ñ‚Ð¸ÐºÑƒÐ»Ð° â€” EAN (Ñ€Ð°Ð½ÐµÐµ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¹ ÐºÐ°Ðº Â«Ð•Ð²Ñ€Ð¾Ð¿ÐµÐ¹ÑÐºÐ¸Ð¹ Ð½Ð¾Ð¼ÐµÑ€ Ð°Ñ€Ñ‚Ð¸ÐºÑƒÐ»Ð°Â»).
// EAN â€” ÑÑ‚Ð¾ ÑˆÑ‚Ñ€Ð¸Ñ…ÐºÐ¾Ð´ Ð¸Ð· 13 Ñ†Ð¸Ñ„Ñ€, ÑÐ¾ÑÑ‚Ð¾ÑÑ‰Ð¸Ð¹ Ð¸Ð· 12 Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ñ… Ñ†Ð¸Ñ„Ñ€ Ð¸ Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð¾Ð¹ Ñ†Ð¸Ñ„Ñ€Ñ‹ (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ EAN-8 Ð² ÑÑ‚Ð¾Ð¹
// Ð·Ð°Ð´Ð°Ñ‡Ðµ Ð½Ðµ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°ÐµÑ‚ÑÑ).

// ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð°Ñ Ñ†Ð¸Ñ„Ñ€Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ÑÑ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¼ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð¼ (Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ñ… 12 Ñ†Ð¸Ñ„Ñ€):
// - Ð¦Ð¸Ñ„Ñ€Ñ‹ Ð½Ð° Ð½ÐµÑ‡Ñ‘Ñ‚Ð½Ñ‹Ñ… Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑÑ… (1-Ñ, 3-Ñ, 5-Ñ Ð¸ Ñ‚.Ð´.) ÑƒÐ¼Ð½Ð¾Ð¶Ð°ÑŽÑ‚ÑÑ Ð½Ð° 1.
// - Ð¦Ð¸Ñ„Ñ€Ñ‹ Ð½Ð° Ñ‡Ñ‘Ñ‚Ð½Ñ‹Ñ… Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÑÑ… (2-Ñ, 4-Ñ, 6-Ñ Ð¸ Ñ‚.Ð´.) ÑƒÐ¼Ð½Ð¾Ð¶Ð°ÑŽÑ‚ÑÑ Ð½Ð° 3.
// - ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ ÑÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ.

// Ð•ÑÐ»Ð¸ ÑÑƒÐ¼Ð¼Ð° Ð´ÐµÐ»Ð¸Ñ‚ÑÑ Ð½Ð° 10, Ñ‚Ð¾ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð°Ñ Ñ†Ð¸Ñ„Ñ€Ð° Ñ€Ð°Ð²Ð½Ð° 0. Ð’ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð½Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ð¾Ð½Ð° Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ÑÑ Ð¿Ð¾ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ðµ:
// ! ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð°Ñ_Ñ†Ð¸Ñ„Ñ€Ð° = 10 âˆ’ (ÑÑƒÐ¼Ð¼Ð° % 10)

// ðŸ“Œ ÐŸÑ€Ð¸Ð¼ÐµÑ€: Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ð¼ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½ÑƒÑŽ Ñ†Ð¸Ñ„Ñ€Ñƒ Ð´Ð»Ñ ÐºÐ¾Ð´Ð° 400330101839 (12 Ñ†Ð¸Ñ„Ñ€):
// 4Ã—1 + 0Ã—3 + 0Ã—1 + 3Ã—3 + 3Ã—1 + 0Ã—3 + 1Ã—1 + 0Ã—3 + 1Ã—1 + 8Ã—3 + 3Ã—1 + 9Ã—3 = 4 + 0 + 0 + 9 + 3 + 0 + 1 + 0 + 1 + 24 + 3 + 27 = 72
// ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð°Ñ_Ñ†Ð¸Ñ„Ñ€Ð° = 10 âˆ’ (72 % 10) = 8
// Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ EAN-ÐºÐ¾Ð´: 400330101839[8] (12 Ñ†Ð¸Ñ„Ñ€ + ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ð°Ñ Ñ†Ð¸Ñ„Ñ€Ð°).

// ðŸŽ¯ Ð’Ð°ÑˆÐ° Ð·Ð°Ð´Ð°Ñ‡Ð° ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð»Ð¸ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¹ EAN-ÐºÐ¾Ð´ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ñ‹Ð¼. Ð’ÐµÑ€Ð½Ð¸Ñ‚Ðµ True (Ð¸Ð»Ð¸ true), ÐµÑÐ»Ð¸ ÐºÐ¾Ð´ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÐµÐ½,
// Ð¸Ð½Ð°Ñ‡Ðµ â€” False (Ð¸Ð»Ð¸ false).

// ðŸ“Œ Ð£ÑÐ»Ð¾Ð²Ð¸Ðµ ÐœÐ¾Ð¶Ð½Ð¾ ÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ñ…Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð´ ÑÐ¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ‡ÐµÑÐºÐ¸ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚ÐµÐ½: Ð¾Ð½ ÑÐ¾ÑÑ‚Ð¾Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¸Ð· Ñ†Ð¸Ñ„Ñ€ Ð¸ Ð¸Ð¼ÐµÐµÑ‚ Ñ€Ð¾Ð²Ð½Ð¾ 13 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð².
// ðŸ“š ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ (ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÐºÐ¾Ð´Ð° Ð½Ðµ Ð¿Ñ€Ð¸Ð²ÐµÐ´ÐµÐ½Ñ‹, Ð½Ð¾ Ð¿Ð¾Ð´Ñ€Ð°Ð·ÑƒÐ¼ÐµÐ²Ð°ÑŽÑ‚ÑÑ Ð² Ð·Ð°Ð´Ð°Ñ‡Ðµ.)

const validateEAN = (code) => {
  const checkSum = String(code)
    .slice(0, 12)
    .split("")
    .map((e, i) => (i % 2 === 0 ? Number(e) * 1 : Number(e) * 3))
    .reduce((acc, iter) => acc + iter, 0);

  const checkNum = checkSum % 10 === 0 ? 0 : 10 - (checkSum % 10);

  return Number(String(code)[12]) === checkNum;
};
